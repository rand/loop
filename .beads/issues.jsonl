{"id":"loop-2y8","title":"Consolidate duplicate rlm-core repositories","description":"Two rlm-core directories exist with divergent histories: /Users/rand/src/rlm-core (standalone, pushed to GitHub) and /Users/rand/src/loop/rlm-core (in monorepo, more complete but not pushed). Need to consolidate to single source of truth.","design":"## Consolidation Plan Created\n\n**Decision: Loop version (`/Users/rand/src/loop/rlm-core/`) is the canonical source.**\n\n### Key Findings:\n- Loop: 80 files, 1.3MB - has all 8 advanced modules (lean, proof, spec_agent, etc.)\n- Standalone: 31 files, 460KB - core only, but has unique proptest.rs and Go TUI\n\n### Unique Content to Preserve from Standalone:\n1. `src/epistemic/proptest.rs` (464 lines) - property-based tests for KL divergence\n2. `go/tui/` (3 files, ~20KB) - Bubble Tea TUI implementation\n\n### Execution Steps:\n1. Copy proptest.rs and go/tui/ to loop\n2. Update epistemic/mod.rs to include proptest module\n3. Adapt proptest.rs imports to loop's kl.rs API\n4. Add proptest dev-dependency\n5. Force push loop to GitHub (archive standalone)\n6. Verify build and tests\n\nSee: CONSOLIDATION_PLAN.md for full details","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-17T05:58:13.55386-07:00","updated_at":"2026-01-17T11:10:56.444078-07:00","closed_at":"2026-01-17T11:10:56.444078-07:00","close_reason":"Consolidated: Loop version is canonical. Preserved proptest.rs and Go TUI from standalone. ADR-0001 documents decision.","labels":["consolidation","critical","rlm-core"]}
{"id":"loop-3ro","title":"Fix kl_interval bound computation bug","description":"Property testing revealed that kl_interval() produces lower \u003e upper for certain inputs (e.g., p_agreeing=2, q_agreeing=3 with 10 samples). The interval arithmetic for KL divergence bounds is incorrect when confidence intervals overlap. See src/epistemic/proptest.rs:278 for details.","status":"closed","priority":2,"issue_type":"bug","owner":"rand.arete@gmail.com","created_at":"2026-01-17T08:54:28.058334-07:00","created_by":"Rand Arete","updated_at":"2026-01-17T11:16:23.570539-07:00","closed_at":"2026-01-17T11:16:23.570539-07:00","close_reason":"Duplicate of loop-5tx","labels":["bug","discovered-by-proptest","epistemic"]}
{"id":"loop-4sz","title":"Topos Integration","description":"Integrate with Topos MCP server and implement bidirectional linking.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-16T10:32:38.924659-07:00","updated_at":"2026-01-16T11:18:53.26748-07:00","closed_at":"2026-01-16T11:18:53.267482-07:00","labels":["integration","phase-2","topos"]}
{"id":"loop-4wl","title":"E2E Validation: Prove rlm-core works for agentic development","description":"Empirically validate that rlm-core works end-to-end as intended for agentic development users.\n\n## Jobs to Be Done (JTBD)\n1. Claude Code plugin users need RLM to amplify their reasoning\n2. TUI developers need observable execution trajectories\n3. Both need epistemic verification to prevent hallucinations\n4. Both need memory persistence across sessions\n\n## Validation Approach (OODA)\n- **Observe**: Exercise each component with real inputs\n- **Orient**: Compare actual vs expected behavior  \n- **Decide**: Identify gaps and prioritize fixes\n- **Act**: Create tasks for issues found\n\n## Success Criteria\n- All public APIs work as documented\n- Integration between Rust/Python/Go layers is seamless\n- Error handling is graceful and informative\n- Performance is acceptable for interactive use","notes":"## Validation Complete\n\n### Tests Executed\n- **Rust**: 140+ tests passing (including 71 epistemic proptest)\n- **Python**: All binding tests pass (32+ manual validation tests)\n- **Go**: 29 tests passing (CGO bindings + TUI)\n\n### Components Validated\n‚úì SessionContext, Message, Role (Python)\n‚úì PatternClassifier with activation decisions (Python)\n‚úì TrajectoryEvent (21 event types) (Python)\n‚úì MemoryStore (in_memory + persistence) (Python)\n‚úì Node (5 types), Tier (4 levels) (Python)\n‚úì SmartRouter, RoutingContext, RoutingDecision (Python)\n‚úì QueryType classification (5 types) (Python)\n‚úì ModelSpec, CostTracker, TokenUsage (Python)\n‚úì REPL Sandbox (execution, print capture, security) (Python)\n‚úì Helper functions (peek, search, truncate, extract_code_blocks) (Python)\n‚úì Deferred operations (create, resolve, fail) (Python)\n‚úì Protocol types (JsonRpc, Execute) (Python)\n‚úì Epistemic verification (Rust only - 71 tests)\n‚úì Go TUI model with Bubble Tea (Go)\n‚úì CGO bindings to Rust (Go)\n\n### Gaps Identified ‚Üí Tasks Created\n- src-244: Expose epistemic verification to Python\n- src-54g: Pattern classifier debugging signal detection\n- src-kv8: Sandbox recursive function support\n- src-9fw: Python API convenience constructors\n- src-f1v: Create E2E integration tests","status":"closed","priority":0,"issue_type":"task","assignee":"claude","created_at":"2026-01-15T20:22:18.568269-07:00","updated_at":"2026-01-16T06:50:03.268226-07:00","closed_at":"2026-01-16T06:50:03.268226-07:00","close_reason":"Validation complete. System works as intended with 5 improvement tasks created.","labels":["e2e","rlm-core","validation"]}
{"id":"loop-5tx","title":"Fix kl_interval bound computation bug","description":"Property testing revealed that kl_interval computes lower \u003e upper for certain inputs (e.g., p_agreeing=2, q_agreeing=3 out of 10 samples).\n\nThe issue is in the bound computation logic:\n```rust\nlet lower = bernoulli_kl_bits(p_posterior.lower, q_prior.upper);\nlet upper = bernoulli_kl_bits(p_posterior.upper, q_prior.lower);\n```\n\nThis assumes KL divergence is monotonic in a simple way, but KL(p||q) = p*log(p/q) + (1-p)*log((1-p)/(1-q)) doesn't have such simple extrema.\n\nNeed to properly compute conservative (minimum) and aggressive (maximum) bounds for interval arithmetic on KL divergence.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-17T06:58:04.660114-07:00","updated_at":"2026-01-17T11:30:42.13319-07:00","closed_at":"2026-01-17T11:30:42.13319-07:00","close_reason":"Fixed - kl_interval now evaluates all 4 corners to find true min/max bounds","labels":["discovered-by-proptest","epistemic","math"]}
{"id":"loop-726","title":"Lean REPL Foundation","description":"Implement Lean 4 REPL as a ReplEnvironment in rlm-core.\n\n## Tasks\n- [ ] LeanRepl struct implementing ReplEnvironment trait\n- [ ] Subprocess management with JSON-RPC protocol\n- [ ] Project management (LeanProjectManager) with lake integration\n- [ ] Basic commands: execute, type-check, tactic mode\n- [ ] Environment persistence (pickle/unpickle)\n- [ ] Lean-specific trajectory events\n- [ ] Unit tests for REPL lifecycle and error handling\n\n## Technical Notes\n- Backend: leanprover-community/repl (JSON over stdin/stdout)\n- Must handle mathlib dependencies\n- Environment IDs for backtracking support\n\n## References\n- Design: docs/lean-formal-verification-design.md#2-lean-repl-architecture\n- https://github.com/leanprover-community/repl","notes":"Lean REPL foundation implemented","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-16T10:32:32.297335-07:00","updated_at":"2026-01-16T11:18:48.058281-07:00","closed_at":"2026-01-16T11:18:48.058284-07:00","labels":["lean","phase-1","repl"]}
{"id":"loop-8ox","title":"Phase 5: Go Bindings (CGO)","description":"Create Go bindings for rlm-core using CGO.\n\n## Deliverables\n- CGO build configuration\n- Core bindings: Orchestrator, MemoryStore, TrajectoryEmitter\n- Go channels ‚Üî Rust streams bridge\n- Go module publishable\n\n## Technical Notes\n- C FFI layer between Rust and Go\n- Handle memory management across boundary\n- Thread-safe channel bridge","acceptance_criteria":"- [ ] CGO bindings compile\n- [ ] All core traits exposed\n- [ ] Channel bridge works\n- [ ] Go module importable","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:08:08.677875-07:00","updated_at":"2026-01-16T11:58:12.270124-07:00","closed_at":"2026-01-16T11:58:12.270124-07:00","close_reason":"Completed: C FFI layer (src/ffi/) and Go CGO bindings (go/rlmcore/) with full memory, context, trajectory support - ~120KB total","labels":["cgo","go","phase-5","rlm-core"],"dependencies":[{"issue_id":"loop-8ox","depends_on_id":"loop-bvx","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-8ox","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-9mn","title":"Spec Agent Implementation","description":"Implement specialized agent for specification creation and refinement.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-16T10:32:51.950159-07:00","updated_at":"2026-01-16T12:14:26.829558-07:00","closed_at":"2026-01-16T12:14:26.829558-07:00","labels":["agent","phase-4","spec"],"dependencies":[{"issue_id":"loop-9mn","depends_on_id":"loop-726","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-9mn","depends_on_id":"loop-vce","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-9t4","title":"Phase 4: Python Bindings (PyO3)","description":"Create Python bindings for rlm-core using PyO3.\n\n## Deliverables\n- PyO3 build configuration\n- Core bindings: Orchestrator, MemoryStore, TrajectoryEmitter\n- Async support via asyncio\n- Type stubs for IDE support\n- PyPI-publishable package\n\n## Technical Notes\n- Use maturin for build\n- Support Python 3.11+\n- Full type annotations","acceptance_criteria":"- [ ] PyO3 bindings compile\n- [ ] All core traits exposed\n- [ ] Async operations work\n- [ ] Package installable via pip","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T16:08:07.358875-07:00","updated_at":"2026-01-15T17:29:57.853016-07:00","closed_at":"2026-01-15T17:29:57.853016-07:00","close_reason":"Complete - PyO3 bindings, maturin build, type stubs, all tests pass","labels":["phase-4","pyo3","python","rlm-core"],"dependencies":[{"issue_id":"loop-9t4","depends_on_id":"loop-bvx","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-9t4","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-avh","title":"E2E Validation: Exercise rlm-core capabilities end-to-end","description":"Exercise rlm-core capabilities end-to-end corresponding to actual usage by rlm-claude-code and recurse. This is a precondition for migrations.\n\n## Test Categories\n\n### 1. Complexity Classification \u0026 Activation\n- Simple queries ‚Üí bypass RLM (fast-path)\n- Multi-file references ‚Üí activate\n- Cross-context reasoning ‚Üí activate\n- Debugging tasks ‚Üí activate\n- User intent signals (thorough/fast)\n\n### 2. Memory System (Hypergraph)\n- Node CRUD (Entity, Fact, Experience, Decision, Snippet)\n- Tier evolution (Task ‚Üí Session ‚Üí LongTerm ‚Üí Archive)\n- HyperEdge relationships\n- Content search (BM25/semantic)\n- Memory gate (epistemic filtering)\n\n### 3. REPL Environment\n- Context externalization (files, messages, tool_outputs)\n- Helper functions (peek, search, summarize)\n- Deferred operations (LLM calls)\n- Sandbox restrictions\n\n### 4. Trajectory Streaming\n- All 20+ event types\n- Verbosity levels\n- Cost tracking events\n- JSON export\n\n### 5. Recursive Orchestration\n- Depth ladder (0‚Üí1‚Üí2‚Üí3)\n- Model tier selection per depth\n- Cost aggregation across depths\n\n### 6. Epistemic Verification (Strawberry)\n- Claim extraction\n- KL divergence computation\n- Evidence scrubbing\n- Memory gate filtering\n\n### 7. LLM Client \u0026 Routing\n- Multi-provider support\n- Smart routing based on query type\n- Prompt caching\n\n### 8. Formal Verification (Lean)\n- Lean REPL interaction\n- Proof automation tiers\n- Dual-track sync (Topos ‚Üî Lean)","notes":"## E2E Validation Results (2026-01-17)\n\n### ‚úÖ PASSED\n1. **Rust build** - rlm-core compiles with 14 warnings (unused code)\n2. **Python bindings** - PyO3 builds and installs successfully\n3. **Complexity classification** - PatternClassifier works, correctly detects signals\n4. **Memory system** - CRUD, search, tier evolution, statistics all work\n5. **Trajectory events** - All 21 event types, factory methods, log_line serialization\n6. **Go bindings** - All 21 tests pass after fixes\n7. **Python REPL** - Helpers (peek, search), sandbox (blocks dangerous ops), protocol\n\n### üîß FIXED (committed)\n- Go bindings: Added missing header includes to memory.go, trajectory.go\n- Go bindings: Removed unused json import from rlmcore.go  \n- Go bindings: Fixed example function name in example_test.go\n\n### ‚ö†Ô∏è GAPS DISCOVERED\n1. **loop-ocz**: Epistemic verification not exposed in Python bindings (blocks loop-cyl migration)\n2. **loop-eby**: Lean REPL requires Lean 4 installation for full testing (environment gap)\n\n### RECOMMENDATION\nThe core rlm-core capabilities are validated and ready for migrations. The epistemic module gap (loop-ocz) should be addressed before rlm-claude-code migration since that plugin uses hallucination detection.","status":"closed","priority":1,"issue_type":"task","assignee":"claude","created_at":"2026-01-16T17:13:10.014836-07:00","updated_at":"2026-01-16T17:53:23.437861-07:00","closed_at":"2026-01-16T17:53:23.437861-07:00","close_reason":"E2E validation complete. Core capabilities validated. 2 gaps discovered and tracked. Go binding fixes committed.","labels":["e2e","precondition","rlm-core","validation"]}
{"id":"loop-b7b","title":"Add REPL FFI bindings to rlm-core","description":"The rlm-core Rust crate has a REPL module (src/repl.rs) with:\n- ReplConfig for configuration\n- ReplHandle for process management  \n- execute(), get_variable(), set_variable(), resolve_operation() methods\n\nBut there's no FFI binding exposed yet. This blocks Phase 4 of the recurse-rlmcore migration.\n\nRequired work:\n1. Add FFI functions in src/ffi/repl.rs\n2. Add C header declarations in include/rlm_core.h\n3. Add Go bindings in go/rlmcore/repl.go\n4. Test cross-language REPL operations","status":"closed","priority":2,"issue_type":"task","assignee":"claude","owner":"rand.arete@gmail.com","created_at":"2026-01-20T10:03:27.789819-07:00","created_by":"Rand Arete","updated_at":"2026-01-20T10:29:45.327966-07:00","closed_at":"2026-01-20T10:29:45.327966-07:00","close_reason":"Completed REPL FFI bindings: Rust FFI (src/ffi/repl.rs), C header (include/rlm_core.h), Go bindings (go/rlmcore/repl.go). All builds compile successfully. Integration testing requires Python rlm-repl package.","labels":["ffi","go-bindings","repl","rlm-core"]}
{"id":"loop-bvx","title":"Phase 3: LLM Client Abstraction","description":"Implement multi-provider LLM client with smart routing.\n\n## Deliverables\n- LLMClient trait with complete() and embed()\n- Provider implementations: Anthropic, OpenAI, OpenRouter\n- SmartRouter trait and implementation\n- Query classification for routing decisions\n- Prompt caching support\n- Rate limiting and retry logic\n\n## Technical Notes\n- Depth-based routing: Opus‚ÜíSonnet‚ÜíHaiku\n- Query types: Architecture, Multi-file, Debugging, Extraction, Simple","acceptance_criteria":"- [ ] LLMClient trait defined\n- [ ] Anthropic provider works\n- [ ] OpenAI provider works\n- [ ] Smart routing selects appropriate model\n- [ ] Prompt caching reduces costs","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T16:08:04.708865-07:00","updated_at":"2026-01-15T17:29:50.250481-07:00","closed_at":"2026-01-15T17:29:50.250481-07:00","close_reason":"LLM client complete - multi-provider support, SmartRouter, CostTracker, caching","labels":["llm","phase-3","rlm-core","routing"],"dependencies":[{"issue_id":"loop-bvx","depends_on_id":"loop-s6x","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-bvx","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-cby","title":"DP Integration for Formal Specs","description":"Integrate formal specifications with Disciplined Process workflow.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T10:33:04.774259-07:00","updated_at":"2026-01-16T13:14:04.04464-07:00","closed_at":"2026-01-16T13:14:04.04464-07:00","labels":["dp","integration","phase-6"],"dependencies":[{"issue_id":"loop-cby","depends_on_id":"loop-vce","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-cir","title":"Phase 2: Hypergraph Memory System","description":"Implement unified hypergraph memory with 3-tier evolution.\n\n## Deliverables\n- SQLite schema: nodes, hyperedges, membership, evolution log\n- Node types: Entity, Fact, Experience, Decision, Snippet\n- Tier system: Task, Session, LongTerm, Archive\n- MemoryStore trait implementation\n- Evolution operations: consolidate, promote, decay\n- Semantic search with embeddings\n\n## Technical Notes\n- SQLite with WAL mode\n- Voyage-3 or similar for embeddings\n- Hybrid search (semantic + keyword)","acceptance_criteria":"- [ ] SQLite schema created with migrations\n- [ ] MemoryStore trait implemented\n- [ ] All node types supported\n- [ ] Tier evolution works correctly\n- [ ] Semantic search returns relevant results","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:07:43.389321-07:00","updated_at":"2026-01-15T16:37:43.975673-07:00","closed_at":"2026-01-15T16:37:43.975673-07:00","close_reason":"Phase 2 Memory System complete. SQLite hypergraph store with 17 new tests (43 total). Features: Node/HyperEdge types, 4-tier system (Task/Session/LongTerm/Archive), promote/decay/consolidate operations, FTS5 search, evolution logging.","labels":["memory","phase-2","rlm-core","sqlite"],"dependencies":[{"issue_id":"loop-cir","depends_on_id":"loop-s6x","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-cir","depends_on_id":"loop-u9c","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-cir","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-cyl","title":"Migration: rlm-claude-code to rlm-core","description":"Migrate rlm-claude-code from pure Python to rlm-core Python bindings.","design":"See detailed migration specification: docs/migration-spec-rlm-claude-code.md\n\nSummary: 8-phase migration replacing ~60 Python modules with rlm-core Python bindings (PyO3). Estimated 4-5 weeks.\n\nKey phases:\n1. Add rlm-core dependency with feature flag\n2. Migrate complexity classification ‚Üí PatternClassifier\n3. Migrate memory system ‚Üí SqliteMemoryStore\n4. Migrate trajectory ‚Üí TrajectoryEvent\n5. Migrate REPL ‚Üí ReplPool/ReplHandle\n6. Migrate epistemic ‚Üí rlm-core epistemic module\n7. Migrate orchestrator ‚Üí ClaudeCodeAdapter\n8. Cleanup legacy code","notes":"Test after re-init - beads working","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-15T16:08:46.961532-07:00","updated_at":"2026-01-17T12:40:53.788848-07:00","closed_at":"2026-01-17T12:40:53.788848-07:00","close_reason":"Component-level delegation complete in rlm-claude-code-rlmcore fork.\n\nCompleted:\n- Phase 1: Feature flag infrastructure (RLM_USE_CORE)\n- Phase 2: PatternClassifier delegation\n- Phase 3: MemoryStore delegation  \n- Phase 4: TrajectoryEvent delegation\n- Phase 6: ClaimExtractor + hallucination check delegation\n- Phase 7: SmartRouter delegation (partial - ClaudeCodeAdapter not exposed)\n\nDeferred/N/A:\n- Phase 5: ReplPool - N/A (Python-specific, RestrictedPython must stay in Python)\n- Phase 7: ClaudeCodeAdapter - Not exposed in Python bindings\n- Phase 8: Legacy cleanup - Deferred for backward compatibility\n\nSee updated docs/migration-spec-rlm-claude-code.md for details.","labels":["migration","rlm-claude-code"],"dependencies":[{"issue_id":"loop-cyl","depends_on_id":"loop-ocz","type":"blocks","created_at":"2026-01-16T17:54:12.707373-07:00","created_by":"daemon"},{"issue_id":"loop-cyl","depends_on_id":"loop-nw2","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-cyl","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-d36","title":"Gap: Go example_test.go has broken example function name","description":"E2E validation found ExampleBubbleTeaIntegration references undefined identifier.\n\nFixed by renaming to Example_bubbleTeaIntegration (package-level example).\n\nNeeds to be committed.","status":"closed","priority":3,"issue_type":"bug","created_at":"2026-01-16T17:49:01.664592-07:00","updated_at":"2026-01-16T17:49:28.588959-07:00","closed_at":"2026-01-16T17:49:28.588959-07:00","close_reason":"Fixed: Renamed ExampleBubbleTeaIntegration to Example_bubbleTeaIntegration","labels":["e2e-validation","fixed","gap","go-bindings"],"dependencies":[{"issue_id":"loop-d36","depends_on_id":"loop-avh","type":"discovered-from","created_at":"2026-01-16T17:49:15.629828-07:00","created_by":"daemon"}]}
{"id":"loop-dt2","title":"Phase 3: Cost Tracking System","description":"Implement per-component cost tracking and budget management.\n\n## Deliverables\n- CostComponent enum (root_prompt, recursive_call, repl_exec, etc.)\n- TokenUsage and CostSummary types\n- Budget limits and alerts\n- Trajectory cost events\n- Burn rate tracking\n\n## Technical Notes\n- Model pricing table (updated Jan 2026)\n- Adaptive depth budgeting\n- Cost alert thresholds (80%, 100%)","acceptance_criteria":"- [ ] Cost tracking per component\n- [ ] Budget limits enforced\n- [ ] Alerts emitted at thresholds\n- [ ] Burn rate calculated","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:08:06.019524-07:00","updated_at":"2026-01-16T13:17:05.89186-07:00","closed_at":"2026-01-16T13:17:05.89186-07:00","close_reason":"Implemented cost tracking with model pricing table (Jan 2026), budget management with alerts at 80%/100%, burn rate tracking, and depth limits. 18 trajectory tests passing.","labels":["budget","cost","phase-3","rlm-core"],"dependencies":[{"issue_id":"loop-dt2","depends_on_id":"loop-bvx","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-dt2","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-dx7","title":"Gap: Go bindings missing header include in memory.go and trajectory.go","description":"E2E validation found that memory.go and trajectory.go were missing the CGO preamble include for the generated header file.\n\nFixed by adding:\n```c\n#include \"../../include/rlm_core.h\"\n```\n\nAlso removed unused json import from rlmcore.go.\n\nThese changes need to be committed.","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-16T17:48:59.633405-07:00","updated_at":"2026-01-16T17:49:26.559603-07:00","closed_at":"2026-01-16T17:49:26.559603-07:00","close_reason":"Fixed: Added header include to memory.go and trajectory.go CGO preambles","labels":["e2e-validation","fixed","gap","go-bindings"],"dependencies":[{"issue_id":"loop-dx7","depends_on_id":"loop-avh","type":"discovered-from","created_at":"2026-01-16T17:49:13.590198-07:00","created_by":"daemon"}]}
{"id":"loop-eby","title":"Gap: Lean REPL requires Lean 4 installation for full testing","description":"E2E validation confirmed Lean module compiles but couldn't test runtime behavior because Lean 4 is not installed on the test system.\n\nTo fully validate:\n1. Install Lean 4 (elan)\n2. Test LeanRepl subprocess communication\n3. Test proof automation tiers\n4. Test dual-track sync with real Lean projects\n\nThe Rust code compiles successfully - this is a test environment gap, not a code gap.","status":"closed","priority":3,"issue_type":"task","assignee":"claude","created_at":"2026-01-16T17:52:17.8417-07:00","updated_at":"2026-01-16T19:28:27.450921-07:00","closed_at":"2026-01-16T19:28:27.450921-07:00","close_reason":"Lean 4.26.0 installed via elan, leanprover-community/repl built and installed to ~/.local/bin, basic rlm-core spawn test passes","labels":["e2e-validation","environment","gap","lean"],"dependencies":[{"issue_id":"loop-eby","depends_on_id":"loop-avh","type":"discovered-from","created_at":"2026-01-16T17:52:29.977597-07:00","created_by":"daemon"}]}
{"id":"loop-m0c","title":"Migration: recurse to rlm-core","description":"Migrate recurse from Go RLM implementation to rlm-core Go bindings.","design":"See detailed migration specification: docs/migration-spec-recurse.md\n\nSummary: 10-phase migration replacing Go RLM implementation (~200+ files) with rlm-core CGO bindings. Estimated 5-7 weeks.\n\nKey phases:\n1. Add rlm-core FFI dependency\n2. Migrate memory system ‚Üí SqliteMemoryStore\n3. Migrate classification/routing ‚Üí PatternClassifier, SmartRouter\n4. Migrate REPL ‚Üí ReplPool/ReplHandle\n5. Migrate trajectory ‚Üí TrajectoryEvent callbacks\n6. Migrate epistemic verification\n7. Migrate reasoning strategies (ToT, LATS)\n8. Migrate orchestrator\n9. Migrate learning/budget\n10. Cleanup legacy code\n\nGo TUI layer (~100+ files) remains in Go, communicating with rlm-core via CGO FFI.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-15T16:08:48.193435-07:00","updated_at":"2026-01-16T23:29:45Z","labels":["migration","recurse"],"dependencies":[{"issue_id":"loop-m0c","depends_on_id":"loop-u9i","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-m0c","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-m6h","title":"Fix HyperEdge Python bindings - missing member construction","description":"HyperEdge Python bindings create empty edges with no way to add node members. Need to add constructor that accepts node_ids and/or add_member method.","status":"closed","priority":1,"issue_type":"bug","created_at":"2026-01-16T20:11:50.627842-07:00","updated_at":"2026-01-17T11:24:31.806231-07:00","closed_at":"2026-01-17T11:24:31.806231-07:00","close_reason":"Fixed - HyperEdge Python bindings now support member construction via with_member(), binary(), and store operations","labels":["bug","memory","pybind"]}
{"id":"loop-nw2","title":"Phase 7: Claude Code Plugin Adapter","description":"Create adapter exposing rlm-core via MCP tools and hooks for Claude Code.\n\n## Deliverables\n- ClaudeCodeAdapter Python class\n- MCP tools: rlm_execute, rlm_status, memory_query, memory_store\n- Hooks: SessionStart, UserPromptSubmit, PreCompact\n- Skill integration\n\n## Technical Notes\n- Uses Python bindings from Phase 4\n- Replaces current rlm-claude-code implementation","acceptance_criteria":"- [ ] MCP tools work\n- [ ] Hooks integrate correctly\n- [ ] Existing functionality preserved\n- [ ] Integration tests pass","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:08:33.945103-07:00","updated_at":"2026-01-16T13:38:22.474045-07:00","closed_at":"2026-01-16T13:38:22.474045-07:00","close_reason":"Implemented Claude Code Plugin Adapter with MCP tools, hooks, skills. 45 tests passing.","labels":["adapter","claude-code","phase-7","rlm-core"],"dependencies":[{"issue_id":"loop-nw2","depends_on_id":"loop-9t4","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-nw2","depends_on_id":"loop-p4s","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-nw2","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-o99","title":"Dual-Track Sync Engine","description":"Implement bidirectional synchronization between Topos specs and Lean formalizations.\n\n## Tasks\n- [ ] DualTrackSync struct with Topos and Lean project paths\n- [ ] Drift detection (structural and semantic comparison)\n- [ ] Topos ‚Üí Lean generation (concepts ‚Üí structures, behaviors ‚Üí function specs)\n- [ ] Lean ‚Üí Topos updates (reverse sync)\n- [ ] Formalization level support (Types, Invariants, Contracts, FullProofs)\n- [ ] CLI commands: sync, drift, formalize\n- [ ] Tests for sync scenarios and conflict resolution\n\n## Technical Notes\n- Semantic drift detection may use LLM for comparison\n- Generation respects formalization level setting\n- Conflicts flagged for human resolution\n\n## References\n- Design: docs/lean-formal-verification-design.md#4-topos-lean-dual-track-sync","status":"closed","priority":2,"issue_type":"feature","assignee":"claude","created_at":"2026-01-16T10:32:45.261775-07:00","updated_at":"2026-01-16T12:14:27.621465-07:00","closed_at":"2026-01-16T12:14:27.621465-07:00","close_reason":"Completed: Dual-Track Sync with drift detection, bidirectional generators, Topos‚ÜîLean sync - 91KB code","labels":["lean","phase-3","sync","topos"],"dependencies":[{"issue_id":"loop-o99","depends_on_id":"loop-4sz","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-o99","depends_on_id":"loop-726","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-o99","depends_on_id":"loop-vce","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-ocz","title":"Gap: Epistemic verification not exposed in Python bindings","description":"E2E validation found that the epistemic verification module (Strawberry/Pythea hallucination detection) exists in Rust but is not exposed via Python bindings.\n\nMissing Python exports:\n- EpistemicVerifier trait implementations\n- ClaimExtractor\n- BudgetResult\n- MemoryGate\n- KL divergence functions\n\nThis blocks rlm-claude-code from using epistemic verification via the Python bindings.","status":"closed","priority":2,"issue_type":"bug","assignee":"claude","created_at":"2026-01-16T17:48:57.482566-07:00","updated_at":"2026-01-16T18:15:36.24719-07:00","closed_at":"2026-01-16T18:15:36.24719-07:00","close_reason":"Epistemic verification Python bindings complete - all types exported and tested","labels":["e2e-validation","epistemic","gap","python-bindings"],"dependencies":[{"issue_id":"loop-ocz","depends_on_id":"loop-avh","type":"discovered-from","created_at":"2026-01-16T17:49:11.543288-07:00","created_by":"daemon"}]}
{"id":"loop-p4s","title":"Phase 6: Epistemic Verification (Strawberry)","description":"Implement information-theoretic hallucination detection based on Pythea/Strawberry methodology.\n\n## Deliverables\n- BudgetResult struct (p0, p1, required_bits, observed_bits, budget_gap)\n- KL divergence computation (Bernoulli, interval arithmetic)\n- EpistemicVerifier trait\n- Claim extractor (parse responses into atomic claims)\n- Evidence scrubber (mask cited evidence for p0 estimation)\n- Verification backends (self/haiku/external)\n- Memory gate integration (reject ungrounded facts)\n- REPL functions: verify_claim(), audit_reasoning(), evidence_dependence()\n\n## Technical Notes\n- Claude-compatible (no logprobs): use semantic consistency\n- Reference implementations: recurse SPEC-08, rlm-claude-code SPEC-16","acceptance_criteria":"- [ ] KL divergence functions correct\n- [ ] Claim extraction works\n- [ ] Evidence scrubbing implemented\n- [ ] Memory gate rejects ungrounded facts\n- [ ] \u003e80% hallucination detection rate\n- [ ] \u003c500ms verification latency","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:08:31.388129-07:00","updated_at":"2026-01-16T13:14:01.36857-07:00","closed_at":"2026-01-16T13:14:01.36857-07:00","close_reason":"Implemented epistemic verification with KL divergence, claim extraction, evidence scrubbing, memory gate integration. 54+ tests passing.","labels":["epistemic","hallucination","phase-6","rlm-core","strawberry"],"dependencies":[{"issue_id":"loop-p4s","depends_on_id":"loop-cir","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-p4s","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-p95","title":"recurse-rlmcore: Go fork for rlm-core migration","description":"Fork of recurse for migrating to rlm-core CGO bindings.\n\nLocation: ~/src/recurse-rlmcore\nBranch: rlm-core-migration\n\nMigration phases (per spec):\n1. Add rlm-core FFI + feature flag ‚úì\n2. Migrate memory/hypergraph ‚Üí SqliteMemoryStore\n3. Migrate classifier/routing ‚Üí PatternClassifier/SmartRouter\n4. Migrate rlm/repl ‚Üí ReplPool\n5. Migrate observability ‚Üí TrajectoryEvent\n6. Migrate hallucination/verify ‚Üí epistemic\n7. Migrate tot/lats ‚Üí reasoning module\n8. Migrate orchestrator ‚Üí rlm-core Orchestrator\n9. Migrate learning/budget ‚Üí CostTracker\n10. Cleanup legacy code\n\nFeature flag: RLM_USE_CORE=true\nCGO bridge: internal/rlmcore/","notes":"Phase 6 complete: Epistemic verification bridge integration.\n\nCommits:\n- f0ee6aa: rlm-core Go bindings integration\n- 7b67c91: rlm-core activation check in mode selection  \n- ddaafb4: rlm-core memory bridge integration\n- c654532: rlm-core REPL bridge integration\n- a2b9d85: rlm-core epistemic FFI bindings\n- bd19d6a: rlm-core epistemic bridge integration\n\nCompleted phases:\n1. ‚úì Add rlm-core FFI + feature flag\n2. ‚úì Migrate memory/hypergraph ‚Üí SqliteMemoryStore (bridge created)\n3. ‚úì Migrate classifier/routing ‚Üí PatternClassifier (activation check)\n4. ‚úì Migrate rlm/repl ‚Üí ReplPool (REPL bridge created)\n5. ‚úì Migrate observability ‚Üí TrajectoryEvent (trajectory bridge already exists)\n6. ‚úì Migrate hallucination/verify ‚Üí epistemic (epistemic bridge created)\n\nPhase 6 added:\n- rlm-core/src/ffi/epistemic.rs - FFI bindings for pure functions\n- rlm-core/go/rlmcore/epistemic.go - Go bindings\n- recurse-rlmcore/internal/rlmcore/epistemic.go - Bridge wrapper\n- recurse-rlmcore/internal/rlm/rlmcore_epistemic.go - Service integration\n- Service.EpistemicBridge() accessor method\n\nEpistemic features exposed via RLM_USE_CORE=true:\n- ClaimExtractor: Extract verifiable claims from LLM responses\n- EvidenceScrubber: Scrub evidence for P0 hiding\n- ThresholdGate: Gate memory writes based on confidence\n- KL divergence: bernoulli_kl_bits, binary_entropy_bits, surprise_bits,\n  mutual_information_bits, required_bits_for_specificity, aggregate_evidence_bits\n- QuickHallucinationCheck: Heuristic risk scoring\n\nLLM-dependent verification remains in Go hallucination module.\n\nNext phases:\n7. Migrate tot/lats ‚Üí reasoning module\n8. Migrate orchestrator ‚Üí rlm-core Orchestrator\n9. Migrate learning/budget ‚Üí CostTracker\n10. Cleanup legacy code","status":"in_progress","priority":1,"issue_type":"task","assignee":"claude","owner":"rand.arete@gmail.com","created_at":"2026-01-17T11:42:41.346723-07:00","created_by":"Rand Arete","updated_at":"2026-01-20T11:10:12.596248-07:00","labels":["cgo","go","migration","rlm-core"],"dependencies":[{"issue_id":"loop-p95","depends_on_id":"loop-b7b","type":"related","created_at":"2026-01-20T10:03:37.331827-07:00","created_by":"Rand Arete"}]}
{"id":"loop-q1a","title":"Design unified library for Claude Code plugin + Agentic TUI","description":"Research recurse (agentic TUI) and rlm-claude-code (Claude Code plugin) codebases to design a unified library/module that supports both deployment targets with shared core capabilities.","design":"## Design Summary\n\n**rlm-core**: A Rust library with Python (PyO3) and Go (CGO) bindings providing unified RLM capabilities.\n\n### Key Decisions\n1. **Rust core** with language bindings (not dual implementation)\n2. **External Python subprocess** for REPL (isolation, full ecosystem)\n3. **Unified hypergraph memory** with 3-tier evolution\n4. **Query-aware smart routing** for model selection\n5. **Single trajectory event schema** with context-specific rendering\n6. **Epistemic Verification** (Strawberry/Pythea) - KL-based hallucination detection\n\n### Architecture\n```\nApplication Layer (Claude Code Plugin / Agentic TUI)\n         ‚Üì\nrlm-core Library (Rust)\n‚îú‚îÄ‚îÄ Orchestration Engine\n‚îú‚îÄ‚îÄ REPL Environment (Python subprocess)\n‚îú‚îÄ‚îÄ Memory System (SQLite hypergraph)\n‚îú‚îÄ‚îÄ Epistemic Verification (Strawberry)  ‚Üê NEW\n‚îú‚îÄ‚îÄ Trajectory Streaming\n‚îî‚îÄ‚îÄ LLM Abstraction (multi-provider)\n         ‚Üì\nStorage Layer (SQLite)\n```\n\n### Strawberry Integration\nBoth projects already implementing:\n- **recurse**: SPEC-08 (Go hallucination package with KL metrics)\n- **rlm-claude-code**: SPEC-16 (Python epistemic module)\n\nUnified library provides:\n- `EpistemicVerifier` trait with `verify_claim()`, `audit_trace()`\n- KL divergence computation (Bernoulli, interval arithmetic)\n- Memory gate integration (reject ungrounded facts)\n- Verification trajectory events\n\n### Documents Created\n- /docs/unified-rlm-library-design.md (full spec, now with epistemic verification)\n- /docs/adr/ADR-001-unified-rlm-library.md (architectural decisions)","notes":"Updated with Strawberry/Pythea epistemic verification subsystem. Both recurse (SPEC-08) and rlm-claude-code (SPEC-16) have already started implementing this. The unified library will provide the core KL divergence metrics and verification traits.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-15T15:49:59.520163-07:00","updated_at":"2026-01-15T16:11:44.963843-07:00","closed_at":"2026-01-15T16:11:44.963843-07:00","close_reason":"Design complete. Work captured in epic src-uci with 14 subtasks.","labels":["architecture","design","rlm"]}
{"id":"loop-ryp","title":"Proof Automation Pipeline","description":"Implement progressive proof automation with AI assistance.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-16T10:32:58.236216-07:00","updated_at":"2026-01-16T12:14:28.402264-07:00","closed_at":"2026-01-16T12:14:28.402264-07:00","labels":["ai","automation","phase-5","proof"],"dependencies":[{"issue_id":"loop-ryp","depends_on_id":"loop-726","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-ryp","depends_on_id":"loop-vce","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-s6x","title":"Phase 1: Core Types and Orchestration Engine","description":"Create the foundational rlm-core Rust crate with core types and basic orchestration loop.\n\n## Deliverables\n- Core types crate: SessionContext, Message, ToolOutput, TrajectoryEvent\n- TaskComplexitySignals and ActivationDecision types\n- Basic Orchestrator trait and implementation\n- Pattern-based complexity classifier\n- Externalize ‚Üí Execute ‚Üí Synthesize loop\n\n## Technical Notes\n- Use Tokio for async runtime\n- Structured error types with codes\n- Full unit test coverage","acceptance_criteria":"- [ ] rlm-core crate compiles\n- [ ] Core types defined with serde serialization\n- [ ] Orchestrator trait defined\n- [ ] Complexity classifier implemented\n- [ ] Unit tests pass","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:07:40.626171-07:00","updated_at":"2026-01-15T16:22:10.570355-07:00","closed_at":"2026-01-15T16:22:10.570355-07:00","close_reason":"Phase 1 Core Types implemented: rlm-core crate compiles, all 24 unit tests pass. Implemented: SessionContext, Message, ToolOutput, TrajectoryEvent, TaskComplexitySignals, ActivationDecision, Orchestrator trait, PatternClassifier.","labels":["phase-1","rlm-core","rust"],"dependencies":[{"issue_id":"loop-s6x","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-tzy","title":"Phase 2: Reasoning Traces","description":"Implement Deciduous-style reasoning traces as memory nodes.\n\n## Deliverables\n- Decision node types: goal, decision, option, action, outcome, observation\n- Edge labels: spawns, considers, chooses, rejects, implements, produces\n- ReasoningTrace struct and operations\n- log_decision() and get_trace() methods\n- Git commit linking (optional)\n\n## Technical Notes\n- Traces stored as hypergraph subgraphs\n- Provenance tracking for audit","acceptance_criteria":"- [ ] Decision node types defined\n- [ ] Trace operations implemented\n- [ ] Traces persist correctly\n- [ ] Can retrieve full decision tree","status":"closed","priority":2,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:07:44.764517-07:00","updated_at":"2026-01-16T13:14:02.703986-07:00","closed_at":"2026-01-16T13:14:02.703986-07:00","close_reason":"Implemented Deciduous-style reasoning traces with decision nodes, edges, trace storage, query system, and Mermaid export. 36 tests passing.","labels":["memory","phase-2","reasoning","rlm-core"],"dependencies":[{"issue_id":"loop-tzy","depends_on_id":"loop-cir","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-tzy","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-u9c","title":"Phase 1: Python REPL Subprocess","description":"Implement Python REPL as external subprocess with JSON-RPC IPC.\n\n## Deliverables\n- Python bootstrap script for REPL\n- JSON-RPC protocol over stdin/stdout\n- REPL helper functions: peek, search, summarize, llm\n- DeferredOperation pattern for async LLM calls\n- Resource limits (memory, CPU, timeout)\n- RestrictedPython sandbox integration\n\n## Technical Notes\n- Use uv for Python environment management\n- Include pydantic, hypothesis, cpmpy in sandbox\n- Subprocess isolation for crash safety","acceptance_criteria":"- [ ] Python bootstrap script works\n- [ ] JSON-RPC protocol implemented\n- [ ] Helper functions available in REPL\n- [ ] Deferred operations resolve correctly\n- [ ] Sandbox blocks dangerous operations","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:07:41.987937-07:00","updated_at":"2026-01-15T16:31:45.39236-07:00","closed_at":"2026-01-15T16:31:45.39236-07:00","close_reason":"Phase 1 REPL Subprocess complete. Python package (rlm-repl) with 31 passing tests. Rust subprocess manager with JSON-RPC protocol. Features: RestrictedPython sandbox, deferred operations, RLM helpers (peek, search, llm, summarize).","labels":["phase-1","python","repl","rlm-core"],"dependencies":[{"issue_id":"loop-u9c","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-u9i","title":"Phase 7: Agentic TUI Adapter (Bubble Tea)","description":"Create adapter exposing rlm-core for Bubble Tea TUI integration.\n\n## Deliverables\n- TUIAdapter Go struct\n- Bubble Tea Model integration\n- Panel renderers: RLMTrace, REPLView, MemoryInspector, BudgetStatus\n- Event channel bridge\n\n## Technical Notes\n- Uses Go bindings from Phase 5\n- Replaces current recurse RLM implementation","acceptance_criteria":"- [ ] TUI panels render correctly\n- [ ] Event streaming works\n- [ ] Memory integration functional\n- [ ] Existing functionality preserved","status":"closed","priority":1,"issue_type":"feature","assignee":"claude","created_at":"2026-01-15T16:08:35.283433-07:00","updated_at":"2026-01-16T13:38:24.353853-07:00","closed_at":"2026-01-16T13:38:24.353853-07:00","close_reason":"Implemented TUI Adapter with panels (Trace, REPL, Memory, Budget), event bridge for Go channels. 24 tests passing.","labels":["adapter","bubbletea","phase-7","rlm-core","tui"],"dependencies":[{"issue_id":"loop-u9i","depends_on_id":"loop-8ox","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-u9i","depends_on_id":"loop-p4s","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-u9i","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-uci","title":"Unified RLM Library (rlm-core)","description":"Create a unified Rust library with Python (PyO3) and Go (CGO) bindings that provides foundational RLM capabilities for both Claude Code plugins (rlm-claude-code) and agentic TUIs (recurse).\n\n## Goals\n- Single source of truth for RLM orchestration logic\n- Consistent behavior across deployment targets\n- Shared improvements benefit both systems\n- Reduced maintenance burden\n\n## Key Components\n1. Orchestration Engine (complexity classifier, strategy selector, recursive calls)\n2. REPL Environment (Python subprocess, helpers, deferred operations)\n3. Memory System (SQLite hypergraph, tier evolution)\n4. Epistemic Verification (Strawberry/Pythea hallucination detection)\n5. Trajectory Streaming (events, cost tracking, export)\n6. LLM Abstraction (multi-provider, smart routing)\n\n## Design Documents\n- /docs/unified-rlm-library-design.md\n- /docs/adr/ADR-001-unified-rlm-library.md","acceptance_criteria":"- [ ] rlm-core Rust crate published\n- [ ] Python bindings (PyO3) published to PyPI\n- [ ] Go bindings working with CGO\n- [ ] recurse migrated to use rlm-core\n- [ ] rlm-claude-code migrated to use rlm-core\n- [ ] \u003e80% test coverage on core crate\n- [ ] All public APIs documented","notes":"Resuming rlm-core completion. Phases 1-4 complete. Starting Phase 5 (Go bindings).","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2026-01-15T16:07:15.42254-07:00","updated_at":"2026-01-16T10:46:58.284572-07:00","labels":["architecture","rlm","rust","unified-library"]}
{"id":"loop-vce","title":"Lean Formal Verification System","description":"Add formal specification and verification capabilities to rlm-core with Lean 4 REPL integration, a specialized Spec Agent, and Topos dual-track synchronization.\n\n## Goals\n1. Interactive theorem proving via Lean REPL\n2. AI-assisted specification creation and refinement\n3. Dual-track specs: Topos (human-readable) ‚Üî Lean (machine-verifiable)\n4. Progressive proof automation (decidable ‚Üí AI ‚Üí human)\n5. DP integration with spec traceability\n\n## Key Documents\n- Design: docs/lean-formal-verification-design.md\n- ADR: docs/adr/ADR-002-lean-formal-verification.md\n\n## Domains\n- Algorithms \u0026 data structures\n- Distributed systems\n- APIs \u0026 protocols\n- Security properties\n- Application flow","notes":"Epic approved. Starting Wave 1: Lean REPL + Topos Integration in parallel.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-16T10:31:53.142942-07:00","updated_at":"2026-01-16T17:04:47.869974-07:00","closed_at":"2026-01-16T17:04:47.869974-07:00","close_reason":"All child features complete: Lean REPL Foundation, Spec Agent, Dual-Track Sync Engine, Proof Automation Pipeline, and DP Integration.","labels":["architecture","formal-verification","lean"]}
{"id":"loop-y7b","title":"Phase 6: Trajectory Streaming System","description":"Implement observable execution stream with verification events.\n\n## Deliverables\n- TrajectoryEmitter trait\n- All event types including verification events\n- Streaming subscription\n- JSON export for replay\n- Cost report events\n- Verification trajectory events\n\n## Technical Notes\n- Events render differently per context\n- Support verbosity levels: minimal, normal, verbose, debug","acceptance_criteria":"- [ ] All event types defined\n- [ ] Streaming subscription works\n- [ ] JSON export correct\n- [ ] Verification events emitted","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-15T16:08:32.663843-07:00","updated_at":"2026-01-16T13:17:07.706385-07:00","closed_at":"2026-01-16T13:17:07.706385-07:00","close_reason":"Implemented trajectory streaming with TrajectoryEmitter trait, verbosity levels (Minimal/Normal/Verbose/Debug), BroadcastEmitter for subscriptions, CollectingEmitter for testing. 18 tests passing.","labels":["observability","phase-6","rlm-core","trajectory"],"dependencies":[{"issue_id":"loop-y7b","depends_on_id":"loop-cir","type":"blocks","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"},{"issue_id":"loop-y7b","depends_on_id":"loop-uci","type":"parent-child","created_at":"2026-01-16T21:01:43Z","created_by":"migration","metadata":"{}"}]}
{"id":"loop-ziu","title":"rlm-claude-code-rlmcore: Python fork for rlm-core migration","description":"Fork of rlm-claude-code for migrating to rlm-core Python bindings.\n\nLocation: ~/src/rlm-claude-code-rlmcore\nBranch: rlm-core-migration\n\nMigration phases (per spec):\n1. Add rlm-core dependency + feature flag ‚úì\n2. Migrate complexity_classifier.py ‚Üí PatternClassifier\n3. Migrate memory_store.py ‚Üí SqliteMemoryStore\n4. Migrate trajectory.py ‚Üí TrajectoryEvent\n5. Migrate repl_environment.py ‚Üí ReplPool\n6. Migrate epistemic/ ‚Üí rlm-core epistemic\n7. Migrate orchestrator ‚Üí ClaudeCodeAdapter\n8. Cleanup legacy code\n\nFeature flag: RLM_USE_CORE=true","notes":"Phase 3 complete (2025-01-17):\n- Migrated memory_store.py to delegate to rlm_core.MemoryStore\n- Commit: c2543ee\n- Added type/tier mapping helpers for Python‚ÜíRust enum conversion\n- Delegates create_node() and search() to rlm_core when available\n- Python implementation remains for advanced queries and fallback\n\nCompleted phases:\n1. ‚úì Feature flag + dependency\n2. ‚úì complexity_classifier.py ‚Üí PatternClassifier\n3. ‚úì memory_store.py ‚Üí SqliteMemoryStore\n\nNext: Phase 4 - Migrate trajectory.py ‚Üí TrajectoryEvent","status":"closed","priority":1,"issue_type":"task","owner":"rand.arete@gmail.com","created_at":"2026-01-17T11:42:40.072742-07:00","created_by":"Rand Arete","updated_at":"2026-01-17T12:25:09.47501-07:00","closed_at":"2026-01-17T12:25:09.47501-07:00","close_reason":"Closed via update","labels":["migration","python","rlm-core"]}
